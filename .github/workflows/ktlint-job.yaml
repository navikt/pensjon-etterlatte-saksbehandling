
on:
  workflow_dispatch: # Allow manually triggered workflow run
  push:
    branches:
      - main
    paths:
      - '**/**'
  pull_request:
    branches:
      - main
    paths:
      - '**/**'

jobs:
  test:
    name: Run ktlint on files
    runs-on: ubuntu-latest-4-cores
    steps:
      - uses: actions/checkout@v4
        run: curl -sSLO https://github.com/pinterest/ktlint/releases/latest/download/ktlint
      - name: Ktlint
        run: ktlint '**/*.kt' '**/*.kts' '!**/build/*.kt' '!**/build/*.kts'
