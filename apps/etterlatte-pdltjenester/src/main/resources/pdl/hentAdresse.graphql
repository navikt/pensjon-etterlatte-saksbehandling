fragment vegadresseDetails on Vegadresse {
    husbokstav
    husnummer
    adressenavn
    postnummer
    kommunenummer
    bydelsnummer
}

fragment utenlandskAdresseDetails on UtenlandskAdresse {
    adressenavnNummer
    bygningEtasjeLeilighet
    postboksNummerNavn
    postkode
    bySted
    regionDistriktOmraade
    landkode
}
fragment MatrikkeladresseDetails on Matrikkeladresse {
    bruksenhetsnummer
    kommunenummer
    matrikkelId
    postnummer
    tilleggsnavn
}

fragment metadata on Metadata {
    master
    historisk
    opplysningsId
    endringer {
        kilde
        registrert
        registrertAv
        systemkilde
        type
    }
}
fragment ukjentBostedDetails on UkjentBosted {
    bostedskommune
}
fragment postAdresseIFrittFormatDetails on PostadresseIFrittFormat {
adresselinje1
adresselinje2
adresselinje3
postnummer
}

fragment postboksadresseDetails on Postboksadresse {
postboks
postbokseier
postnummer
}

fragment folkeregistermetadata on Folkeregistermetadata {
    ajourholdstidspunkt
    gyldighetstidspunkt
    opphoerstidspunkt
    kilde
    aarsak
    sekvens

}

fragment utenlandskAdresseIFrittFormatDetails on UtenlandskAdresseIFrittFormat{
    adresselinje1
    adresselinje2
    adresselinje3
    byEllerStedsnavn
    landkode
    postkode
}

query($ident: ID!, $historikk: Boolean) {
    hentPerson(ident: $ident) {
        adressebeskyttelse(historikk: false) {
            gradering
        }
        bostedsadresse(historikk: $historikk) {
            vegadresse {...vegadresseDetails}
            utenlandskAdresse {...utenlandskAdresseDetails}
            matrikkeladresse {...MatrikkeladresseDetails}
            ukjentBosted {...ukjentBostedDetails}
            gyldigFraOgMed
            gyldigTilOgMed
            metadata {...metadata}
        }
        kontaktadresse(historikk: $historikk) {
            coAdressenavn
            folkeregistermetadata {...folkeregistermetadata}
            gyldigFraOgMed
            gyldigTilOgMed
            metadata{...metadata}
            postadresseIFrittFormat{...postAdresseIFrittFormatDetails}
            postboksadresse{...postboksadresseDetails}
            type
            utenlandskAdresse{...utenlandskAdresseDetails}
            utenlandskAdresseIFrittFormat{...utenlandskAdresseIFrittFormatDetails}
            vegadresse{...vegadresseDetails}
        }
        oppholdsadresse(historikk: $historikk) {
            coAdressenavn
            folkeregistermetadata {...folkeregistermetadata}
            gyldigFraOgMed
            gyldigTilOgMed
            matrikkeladresse {...MatrikkeladresseDetails}
            metadata{...metadata}
            oppholdAnnetSted
            utenlandskAdresse{...utenlandskAdresseDetails}
            vegadresse{...vegadresseDetails}
        }
    }
}