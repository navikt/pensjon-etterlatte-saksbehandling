fragment vegadresseDetails on Vegadresse {
    husbokstav
    husnummer
    adressenavn
    postnummer
    kommunenummer
    bydelsnummer
}

fragment utenlandskAdresseDetails on UtenlandskAdresse {
    adressenavnNummer
    bygningEtasjeLeilighet
    postboksNummerNavn
    postkode
    bySted
    regionDistriktOmraade
    landkode
}

fragment metadata on Metadata {
    master
    historisk
    opplysningsId
    endringer {
        kilde
        registrert
        registrertAv
        systemkilde
        type
    }
}

fragment folkeregistermetadata on Folkeregistermetadata {
    ajourholdstidspunkt
    gyldighetstidspunkt
    opphoerstidspunkt
    kilde
    aarsak
    sekvens

}

query($ident: ID!) {
    hentPerson(ident: $ident) {
        adressebeskyttelse(historikk: false) {
            gradering
        }
        bostedsadresse {
            vegadresse {
                ...vegadresseDetails
            }
            utenlandskAdresse {
                ...utenlandskAdresseDetails
            }
            gyldigFraOgMed
            gyldigTilOgMed
            metadata {
                ...metadata
            }
        }
        navn {
            fornavn
            mellomnavn
            etternavn
            forkortetNavn
            metadata {
                ...metadata
            }
        }
        statsborgerskap {
            land
            gyldigFraOgMed
            gyldigTilOgMed
            metadata {
                ...metadata
            }
        }
        foedsel {
            foedselsdato
            foedeland
            foedested
            foedselsaar
            metadata {
                ...metadata
            }
        }
        sivilstand {
            type
            gyldigFraOgMed
            relatertVedSivilstand
            metadata {
                ...metadata
            }
        }
        doedsfall {
            doedsdato
            folkeregistermetadata {
                ...folkeregistermetadata
            }
            metadata {
                ...metadata
            }
        }
    }
}
