fragment folkeregistermetadata on Folkeregistermetadata {
    ajourholdstidspunkt
    gyldighetstidspunkt
    opphoerstidspunkt
    kilde
    aarsak
    sekvens

}

fragment metadata on Metadata {
    master
    historisk
    opplysningsId
    endringer {
        kilde
        registrert
        registrertAv
        systemkilde
        type
    }
}

query($ident: ID!, $historikk: Boolean!) {
    hentPerson(ident: $ident) {

        statsborgerskap(historikk: $historikk) {
            land
            gyldigFraOgMed
            gyldigTilOgMed
            metadata {
                opplysningsId
                master
                endringer {
                    type
                    registrert
                }
            }
        }

        utflyttingFraNorge {
            tilflyttingsland
            tilflyttingsstedIUtlandet
            utflyttingsdato
            folkeregistermetadata {
                ...folkeregistermetadata
            }
            metadata {
                ...metadata
            }
        }

        innflyttingTilNorge {
            fraflyttingsland
            fraflyttingsstedIUtlandet
            folkeregistermetadata {
                ...folkeregistermetadata
            }
            metadata {
                ...metadata
            }
        }

    }
}

